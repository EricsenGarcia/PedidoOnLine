<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html 	xmlns="http://www.w3.org/1999/xhtml" 
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
		xmlns:h="http://xmlns.jcp.org/jsf/html" 
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputStylesheet library="css" name="estilo.css" />
	<h:outputStylesheet library="css" name="bootstrap-theme.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
</h:head>

<ui:composition template="/templates/interna.xhtml">
	<ui:define name="corpo">
		<h:form>
			<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />			
			<div class="container" >
			 							
				<ui:repeat var="produto" value="#{produtoBean.consultaUrl()}">			
					<div class="col-lg-3 col-md-6 mb-r" style="height: 358px">										
						<div class="card card-cascade narrower">
										
							<div class="view overlay hm-white-slight" style="max-height: 300px; max-width:200px; min-height: 200px" >							 							 						
								 <h:graphicImage 	value="data:image/png;base64,#{fotoBean.buscaFoto(produto)}"  
								 					class="img-fluid" alt="" 
								 					style="max-height: 300px; max-width:200px"/>
							</div>
													
							<div class="card-block text-center">
								<h:inputHidden value="#{produto.codigo}" binding="#{codigo}" />						
								<div class="nomeProd">							
									<p class="card-text">#{produto.descricao}</p>
								</div>
								<div class="card-footer">
									<h3 class="prodPreco">R$ #{produto.preco}</h3>								
									<h:panelGrid columns="2">																			
										<p:spinner binding="#{qt}" size="2" min="1" value="1"/>									
										<p:commandButton 	icon="ui-icon-cart" value="Comprar" 
															actionListener="#{carrinhoBean.teste(codigo.value)}" update="growl">						
											
										</p:commandButton>																				
									</h:panelGrid>								
								</div>							
								
							</div>
							
						</div>
					</div>
				</ui:repeat>			
			</div>			
		</h:form>
	</ui:define>
</ui:composition>
</html>
